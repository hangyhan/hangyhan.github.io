<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="hangyhan,hangyhan@mail.ustc.edu.cn"><title> · hangyhan@USTC</title><meta name="description" content="&amp;lt;!DOCTYPE html&amp;gt;
区块链入门{font-family:”lucida grande”,”lucida sans unicode”,lucida,helvetica,”Hiragino Sans GB”,”Microsoft YaHei”,”WenQuanYi Micro H"><meta name="keywords" content="Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">hangyhan@USTC</a></h3></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/about">Sobre</a></li><li><a href="/archives">Arquivo</a></li><li><a href="/links">Links</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a></a></h3></div><div class="post-content"><p>&lt;!DOCTYPE html&gt;</p>
<html><br><head><br><meta charset="utf-8"><br><meta name="tool" content="leanote-desktop-app"><br><title>区块链入门</title><br><style><br><br><em>{font-family:”lucida grande”,”lucida sans unicode”,lucida,helvetica,”Hiragino Sans GB”,”Microsoft YaHei”,”WenQuanYi Micro Hei”,sans-serif;}<br><br>body {<br>  margin: 0;<br>}<br><br>/</em>公用文字样式<em>/<br>h1{font-size:30px}h2{font-size:24px}h3{font-size:18px}h4{font-size:14px}<br>.note-container{<br>    width:850px;<br>    margin:auto;<br>    padding: 10px 20px;<br>    box-shadow: 1px 1px 10px #eee;<br>}<br>#title {<br>  margin: 0;<br>}<br>table {<br>    margin-bottom: 16px;<br>    border-collapse: collapse;<br>}<br>table th, table td {<br>    padding: 6px 13px;<br>    border: 1px solid #ddd;<br>}<br>table th {<br>    font-weight: bold;<br>}<br><br>table tr {<br>    background-color: none;<br>    border-top: 1px solid #ccc;<br>}<br>table tr:nth-child(2n) {<br>    background-color: rgb(247, 247, 249);<br>}<br>.mce-item-table, .mce-item-table td, .mce-item-table th, .mce-item-table caption {<br>  border: 1px solid #ddd;<br>  border-collapse: collapse;<br>  padding: 6px 13px;<br>}<br>blockquote {<br>  border-left-width:10px;<br>  background-color:rgba(128,128,128,0.05);<br>  border-top-right-radius:5px;<br>  border-bottom-right-radius:5px;<br>  padding:15px 20px;<br>  border-left:5px solid rgba(128,128,128,0.075);<br>}<br>blockquote p {<br>  margin-bottom:1.1em;<br>  font-size:1em;<br>  line-height:1.45<br>}<br>blockquote ul:last-child,blockquote ol:last-child {<br>  margin-bottom:0<br>}<br>pre {<br>  padding: 18px;<br>  background-color: #f7f7f9;<br>  border: 1px solid #e1e1e8;<br>  border-radius: 3px;<br>  display: block;<br>}<br>code {<br>  padding: 2px 4px;<br>  font-size: 90%;<br>  color: #c7254e;<br>  white-space: nowrap;<br>  background-color: #f9f2f4;<br>  border-radius: 4px;<br>}<br>.footnote {<br>  vertical-align: top;<br>  position: relative;<br>  top: -0.5em;<br>  font-size: .8em;<br>}<br><br>hr {<br>  margin:2em 0<br>}<br>img {<br>  max-width:100%<br>}<br>pre {<br>  word-break:break-word<br>}<br>p,pre,pre.prettyprint,blockquote {<br>  margin:0 0 1.1em<br>}<br>hr {<br>  margin:2em 0<br>}<br>img {<br>  max-width:100%<br>}<br>.sequence-diagram,.flow-chart {<br>  text-align:center;<br>  margin-bottom:1.1em<br>}<br>.sequence-diagram text,.flow-chart text {<br>  font-size:15px !important;<br>  font-family:”Source Sans Pro”,sans-serif !important<br>}<br>.sequence-diagram [fill=”#ffffff”],.flow-chart [fill=”#ffffff”] {<br>  fill:#f6f6f6<br>}<br>.sequence-diagram [stroke=”#000000”],.flow-chart [stroke=”#000000”] {<br>  stroke:#3f3f3f<br>}<br>.sequence-diagram text[stroke=”#000000”],.flow-chart text[stroke=”#000000”] {<br>  stroke:none<br>}<br>.sequence-diagram [fill=”#000”],.flow-chart [fill=”#000”],.sequence-diagram [fill=”#000000”],.flow-chart [fill=”#000000”],.sequence-diagram [fill=”black”],.flow-chart [fill=”black”] {<br>  fill:#3f3f3f<br>}<br>ul,ol {<br>  margin-bottom:1.1em<br>}<br>ul ul,ol ul,ul ol,ol ol {<br>  margin-bottom:1.1em<br>}<br>kbd {<br>  padding:.1em .6em;<br>  border:1px solid rgba(63,63,63,0.25);<br>  -webkit-box-shadow:0 1px 0 rgba(63,63,63,0.25);<br>  box-shadow:0 1px 0 rgba(63,63,63,0.25);<br>  font-size:.7em;<br>  font-family:sans-serif;<br>  background-color:#fff;<br>  color:#333;<br>  border-radius:3px;<br>  display:inline-block;<br>  margin:0 .1em;<br>  white-space:nowrap<br>}<br>.toc ul {<br>  list-style-type:none;<br>  margin-bottom:15px<br>}<br></style><br><!-- 该css供自定义样式 --><br><link href="../leanote-html.css" rel="stylesheet"><br></head><br><br><body><br><br>    <div class="note-container"><br><br># 区块链入门<br><br>        <div class="content-html" id="leanote-content"><br><br>一、区块链的本质——特殊的分布式数据库

   区块链的主要作用是存储信息，因此是一种数据库。<br><em>   任何人都可以架设服务器，加入区块链网络，成为一个节点。
</em>   区块链网络中没有中心节点，每个节点都是平等的，并且每个区块中存储的内容也都相同。<br><br>        <em> </em> <em><br><br>二、区块链的最大特点

</em>   彻底无中心：分布式数据库并非新发明，但区块链系统与之前的分布式数据库的最大区别在于其没有管理员，是彻底去中心化的<br><br><em> </em> <em><br><br>&nbsp;三、区块（block）

</em>   区块链由一个个区块组成，区块很像是数据库的记录；写入一组数据就是创建一个区块<br><em>   区块的组成

        </em>   区块头(Head)——记录当前区块的特征值&nbsp;<br><br>                <em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">生成时间</span>
        </em>   <span style="overflow: hidden; line-height: 0px;" data-mce-type="bookmark" data-mce-style="overflow: hidden; line-height: 0px;">实际数据/当前区块体的Hash值</span>&nbsp;<span style="text-decoration: underline;" data-mce-style="text-decoration: underline;"><em><strong>（</strong>__**<em>Hash</em>值就是计算机根据区块头中的区块特征值计算出的Hash值；该算法保证只要区块特征值不同，得到的Hash值就不同。因此每个区块的Hash值都是不一样的，可以通过Hash标识区块）<strong></strong></em></span><br>        <em>   <span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">上一个区块的Hash值<span id="mce_0_start" style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">﻿</span></span>
        </em>   <span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">……</span><span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px"><span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">﻿</span></span><br>    <em>   <span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">区块体(Body)——实际数据</span>

</em> <em> </em><br><br><span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">四、Hash值的不可修改性</span><br><br><em>   <span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">区块与Hash值是一一对应的</span>
</em>   <span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">每个区块的Hash值都是针对去块头中的区块特征值计算的，与区块体的内容无关</span><br><em>   <span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">由于区块体包含当前区块体的Hash值和上一个区块的Hash值，因此如果当前区块体内容变化了，或者是上一个区块体的Hash值变化了，都会导致当前区块的Hash值变化</span>
</em>   <span style="overflow:hidden;line-height:0px" data-mce-type="bookmark" data-mce-style="overflow:hidden;line-height:0px">由上面一点可知，如果当前有人修改了某一个区块的特征值，那么该区块的Hash值就发生了变化，为使得该区块后面的区块还能与之相连，此人必须修改后一个区块的特征值中的”上一个区块的Hash值“。这就导致后一个区块的Hash值也发生了变化，以此类推，后面所有的区块的Hash值都需要进行修改。但由于Hash计算十分耗时，短时间内修改多个区块的Hash值几乎是不可能的；<span style="text-decoration: underline;" data-mce-style="text-decoration: underline;">_因此，通过这种连锁机制，就保证了区块链系统的可靠性。数据一旦写入（区块一旦创建），就无法被修改。*<em>_</em></span></span>

 <em> </em><br><br>五、<br><br><em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">每个区块后面只能跟着一个区块，新的区块永远只能在最新区块的后面</span>
</em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">区块链的设计者中本聪为了防止分叉出现，故意将添加新区快变得很困难；他的设计是平均每10分钟，全网才能生成一个新区块</span><br><em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">这种延迟效应是同古欧加大有效Hash值的计算量来实现的</span>
</em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">计算Hash的机器就是矿机，操作矿机的人就叫做矿工</span><br><br><em> </em> <em><br><br><span style="line-height: 0px;" data-mce-style="line-height: 0px;"></span><br><br><span style="line-height: 0px;" data-mce-style="line-height: 0px;">六、难度系数</span>

</em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">为了增加生成新区块链的难度，区块头包含一个难度系数；区块链协议规定，使用一个常量除以难度系数，可以得到目标值。难度系数越大，目标值越小。</span><br><em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">要求只有小于目标值的Hash值才是有效Hash值；否则Hash值无效，必须重算。由于目标值非常小，Hash值小于目标值的可能性也极低。这就是采矿如此之慢的根本原因</span>
</em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">由于区块的Hash值只有区块头唯一确定，如果要对同一个区块反复计算Hash值就意味着区块头必须不停变化。但是区块头中的特征值都是固定的，为了让区块头产生变化，区块头中除特征值外，还有一个随机项Nonce</span><br><em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">Nonce是一个随机值，矿工的作用实际上就是猜出Nonce值，使得区块头的Hash可以小于目标值</span>
</em>   <span style="line-height: 0px;" data-mce-style="line-height: 0px;">Nonce是非常难猜的，当前只能通过穷举法一个个试错，Nonce是一个32位二进制数，最大可以达到21.47亿。因此最坏的情况是，反复计算了21.47亿次，都没有发现可行的Nonce，此时协议允许矿工改变区块体，开始新的计算</span><br><br><em> </em> <em><br><br><span style="line-height: 0px;" data-mce-style="line-height: 0px;"></span><br><br>七、 难度系数的动态调节

</em>   为了将区块的产生速率维持在10分钟内，中本聪设计了一个难度系数的动态调节机制。难度系数每两周调节一次，如果前两周的平均生成速度大于10分钟，则降低难度系数；反之，增加难度系数<br><br><em> </em> <em><br><br>八、区块链的分叉

</em>   如果两个人同时向区块链中加入区块，那么就会发生一个区块连着两个后继区块的情况，从而形成分叉<br><em>   处理分叉的方式是，先让这个分叉继续生长下去；看哪个分叉先生长到6个区块的长度，将先到达6个区块的分叉作为被采用的分叉，而另一个就将从区块链中删去。这一过程称为“六次确认”

</em> <em> </em><br><br>九、总结<br><br><em>   区块链作为无人管理的分布式数据库，可行性已被确定
</em>   但是区块链造成了时间和能源上的代价<br><em>   并且区块链的应用场景也非常有限，他要求:

        </em>   不存在所有成员都信任的管理当局<br>    <em>   写入的数据不要求实时使用
    </em>   挖矿的收益能够弥补本身的成本<br>*   目前区块链最大的应用场景（也可能是唯一的应用场景），就是以比特币为代表的加密货币了</div><br>    </div><br><br><!-- 该js供其它处理 --><br><script src="../leanote-html.js"></script><br></body><br></html>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2018-03-28</span><i class="fa fa-tag"></i></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/2018/03/28/2018-03-28-/,hangyhan@USTC,,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2018/05/02/Bit-Torrent-协议概述/" title="Bit Torrent 协议">Post Anterior</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2018/03/28/hello-world/" title="Hello World">Próximo post</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>